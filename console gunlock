//press the bind then knife and itll do the rest

self thread addBind( "+gunlock", "gunlock", ::cyfgunlock );
cyfgunlock(){
	self waittill("+melee");{
		self thread _gunlock();
	}
}
cyfgunlock(){	

	nacmod = cw();
	if (nacmod == self.PrimaryWeapon){
		Primary = self.PrimaryWeapon;
		Secondary = self.SecondaryWeapon;
		wait .01;
		self thread ChangeAppearance112();
		self SetSpawnWeapon( secondary );
		wait 0.1;
		
		self SetSpawnWeapon( Primary );
	}
	else if (nacmod == self.SecondaryWeapon){
		Primary = self.PrimaryWeapon;
		Secondary = self.SecondaryWeapon;
		wait .01;
		self thread ChangeAppearance112();
		self SetSpawnWeapon( primary );
		wait 0.1;
		self SetSpawnWeapon( Secondary );
	}
}
ChangeAppearance112(Type,MyTeam){
	ModelType=[];
	ModelType[0]="GHILLIE";
	ModelType[1]="SNIPER";
	ModelType[2]="LMG";
	ModelType[3]="ASSAULT";
	ModelType[4]="SHOTGUN";
	ModelType[5]="SMG";
	ModelType[6]="RIOT";
	if(Type==7){MyTeam=randomint(2);Type=randomint(7);}
	team=get_enemy_team(self.team);if(MyTeam)team=self.team;
	self detachAll();
	[[game[team+"_model"][ModelType[Type]]]]();
}
